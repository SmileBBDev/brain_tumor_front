# 다음 작업 목록 (2026-01-10)

**작성일**: 2026-01-10
**현재 상태**: Phase 3 OCS 통합 완료

---

## 우선순위 1: Phase 4 - AI 분석 관리

### 백엔드 (`ai_inference` 앱)
- [ ] `ai_inference` 앱 생성
- [ ] 모델 정의
  - [ ] `AIModel` - AI 모델 정의 (M1/MG/MM)
  - [ ] `AIInferenceRequest` - 추론 요청
  - [ ] `AIInferenceResult` - 추론 결과
  - [ ] `AIInferenceLog` - 추론 로그
- [ ] API 구현
  - [ ] `GET /api/ai/models/` - 모델 목록
  - [ ] `POST /api/ai/validate/` - 데이터 충족 여부 검증
  - [ ] `POST /api/ai/requests/` - 추론 요청 생성
  - [ ] `GET /api/ai/requests/{id}/status/` - 요청 상태 조회
  - [ ] `POST /api/ai/results/{id}/review/` - 결과 검토 (승인/거부)
- [ ] OCS worker_result 기반 입력 데이터 추출 로직
- [ ] 더미 데이터 생성 스크립트

### 프론트엔드
- [ ] AI 추론 요청 페이지
- [ ] 환자별 사용 가능 모델 표시
- [ ] 필요 데이터 충족 여부 표시
- [ ] 추론 결과 조회/검토 페이지

---

## 우선순위 2: Phase 2.5 - 메타데이터 기반 확장

### 환자별 영상 히스토리
- [ ] `PatientImagingHistoryPage.tsx` 생성
- [ ] `GET /api/imaging/studies/?patient_id={id}` API 활용
- [ ] 날짜순 타임라인 뷰
- [ ] 동일 부위 이전 Study 비교

### Study 상세 정보
- [ ] `StudyDetailPage.tsx` 개선
- [ ] Patient → Study → Report 계층 구조
- [ ] 이전 Study 비교 링크

### 판독 리포트 연계
- [ ] Key Findings 키워드 강조 (종양, 출혈, 부종)
- [ ] Study ↔ Report 빠른 이동

---

## 우선순위 3: Phase 5 - 치료 및 경과 관리

### 백엔드
- [ ] `treatment` 앱 생성
  - [ ] `TreatmentPlan` 모델
  - [ ] `TreatmentSession` 모델
- [ ] `followup` 앱 생성
  - [ ] `FollowUp` 모델
- [ ] OCS 연결 (job_role='TREATMENT')

### 프론트엔드
- [ ] 치료 계획 목록/상세 페이지
- [ ] 치료 세션 기록 페이지
- [ ] 경과 추적 페이지

---

## 우선순위 4: 인프라 준비

### Orthanc PACS
- [ ] Orthanc 서버 설치 계획
- [ ] DICOMweb 플러그인 설정
- [ ] Django 연동 클라이언트 설계

### Redis + Worker
- [ ] Redis 서버 설정
- [ ] Celery 또는 Django-Q 도입
- [ ] AI 추론 비동기 처리

---

## 완료된 작업 (참고)

### Phase 3 OCS (2026-01-08 ~ 2026-01-09) ✅
- OCS/OCSHistory 모델 및 API
- RIS/LIS 워크리스트, 상세 페이지
- WebSocket 실시간 알림
- LIS GENETIC/PROTEIN 검사 지원
- LIS/RIS 담당자 confirm 권한

---

## 메모

- AI 모델 정의 구조는 `app의 기획.md` 2.4절 참조
- OCS worker_result JSON에서 AI 입력 데이터 추출
- M1: MRI 4채널 (T1, T2, T1C, FLAIR)
- MG: RNA 시퀀싱 (GENETIC)
- MM: 멀티모달 (MRI + 유전 + 단백질)
