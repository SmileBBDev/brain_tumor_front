# 다음 작업 목록 (2026-01-10)

**작성일**: 2026-01-10
**수정일**: 2026-01-11
**현재 상태**: Phase 4 완료 ✅ (AI seed 적용 대기)

---

## 최근 완료 작업 (2026-01-11) ✅

### Phase 4 - AI 분석 관리 완료
- [x] 프론트엔드 빌드 오류 88개 → 0개 수정 완료
- [x] AI 메뉴/권한 seed 데이터 추가 (`setup_dummy_data_1_base.py`)
  - 메뉴 라벨: AI 분석 요청 (33, 34, 35)
  - 역할 권한: DOCTOR, ADMIN에 AI_REQUEST_* 권한 추가
- [x] AI 모델 seed 데이터 (M1, MG, MM) 완료

### DicomViewerPopup 기능 완성
- [x] 다중 뷰어 지원 (최대 4개, 탭 전환)
- [x] 뷰어 탭 간 Selection 유지
- [x] 좌우 스플리터 구현 (드래그로 비율 조정)
- [x] All Play 기능 (모든 뷰어 동시 재생/정지)
- [x] Set 기능 (모든 뷰어 인스턴스=0 리셋)
- [x] 메타 오버레이 (Study UID, Series, Instance 표시)

### UploadSection 개선
- [x] Study Description 한글 입력 경고 표시
- [x] 한글 입력 시 즉시 경고 메시지 + 주황색 하이라이트

---

## 🔴 A 담당 (Backend) - 즉시 실행 필요

### AI Seed 데이터 DB 적용
```bash
cd brain_tumor_back
python setup_dummy_data\setup_dummy_data_1_base.py --menu
```

적용 후 DOCTOR/ADMIN 로그인 시 사이드바에 "AI 분석 요청" 메뉴 표시 확인

---

## Phase 4 - AI 분석 관리 ✅ **완료**

### 백엔드 (`ai_inference` 앱) ✅
- [x] `ai_inference` 앱 생성
- [x] 모델 정의 (AIModel, AIInferenceRequest, AIInferenceResult, AIInferenceLog)
- [x] API 구현 (models, requests, validate, status, review, available-models)
- [x] OCS worker_result 기반 입력 데이터 추출 로직
- [x] AI 모델 seed 데이터 (M1, MG, MM)
- [x] AI 메뉴/권한 seed 데이터

### 프론트엔드 ✅
- [x] AI 추론 요청 목록 페이지 (`AIRequestListPage.tsx`)
- [x] AI 추론 요청 생성 페이지 (`AIRequestCreatePage.tsx`)
- [x] 추론 결과 조회/검토 페이지 (`AIRequestDetailPage.tsx`)
- [x] API 서비스 (`ai.api.ts`)
- [x] React Hooks (`useAIInference.ts`)
- [x] 라우터 등록 (`routeMap.tsx`)
- [x] 빌드 성공 (353 modules transformed)

---

## 우선순위 2: Phase 2.5 - 메타데이터 기반 확장

### 환자별 영상 히스토리
- [ ] `PatientImagingHistoryPage.tsx` 생성
- [ ] `GET /api/imaging/studies/?patient_id={id}` API 활용
- [ ] 날짜순 타임라인 뷰
- [ ] 동일 부위 이전 Study 비교

### Study 상세 정보
- [ ] `StudyDetailPage.tsx` 개선
- [ ] Patient → Study → Report 계층 구조
- [ ] 이전 Study 비교 링크

### 판독 리포트 연계
- [ ] Key Findings 키워드 강조 (종양, 출혈, 부종)
- [ ] Study ↔ Report 빠른 이동

---

## 우선순위 3: Phase 5 - 치료 및 경과 관리

### 백엔드
- [ ] `treatment` 앱 생성
  - [ ] `TreatmentPlan` 모델
  - [ ] `TreatmentSession` 모델
- [ ] `followup` 앱 생성
  - [ ] `FollowUp` 모델
- [ ] OCS 연결 (job_role='TREATMENT')

### 프론트엔드
- [ ] 치료 계획 목록/상세 페이지
- [ ] 치료 세션 기록 페이지
- [ ] 경과 추적 페이지

---

## 우선순위 4: 인프라 준비

### Orthanc PACS
- [ ] Orthanc 서버 설치 계획
- [ ] DICOMweb 플러그인 설정
- [ ] Django 연동 클라이언트 설계

### Redis + Worker
- [ ] Redis 서버 설정
- [ ] Celery 또는 Django-Q 도입
- [ ] AI 추론 비동기 처리

---

## 완료된 작업 (참고)

### Phase 3 OCS (2026-01-08 ~ 2026-01-09) ✅
- OCS/OCSHistory 모델 및 API
- RIS/LIS 워크리스트, 상세 페이지
- WebSocket 실시간 알림
- LIS GENETIC/PROTEIN 검사 지원
- LIS/RIS 담당자 confirm 권한

---

## 메모

- AI 모델 정의 구조는 `app의 기획.md` 2.4절 참조
- OCS worker_result JSON에서 AI 입력 데이터 추출
- M1: MRI 4채널 (T1, T2, T1C, FLAIR)
- MG: RNA 시퀀싱 (GENETIC)
- MM: 멀티모달 (MRI + 유전 + 단백질)
